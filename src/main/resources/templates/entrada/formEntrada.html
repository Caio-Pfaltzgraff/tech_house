<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{base :: head('Entrada')}"></head>
<body>

    <header>
        <div th:replace="~{base :: logo}"></div>
    </header>

    <div class="container">
        <div class="card mt-4">
            <div class="card-header text-bg-secondary text-center">
                <h1>Entrada de Produtos</h1>
            </div>
            <form class="card-body mt-1" method="post" action="/acao/salvar">
                <div class="row">
                    <div class="col-md-6">
                        <label for="data" class="control-label">Data</label>
                        <input id="data" name="data" type="date" class="form-control" th:value="${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}"/>
                    </div>
                    <div class="col-md-6">
                        <label class="control-label">Número</label>
                        <input type="text" class="form-control" disabled/>
                    </div>
                </div>

                <div class="col-md-12 mt-3"><a class="btn btn-primary" href="/acao/entrada/produto/formulario">Adicionar Produto</a> <a th:if="${verifica}" href="/acao/removeProdutos" class="btn btn-outline-primary">Limpar Produtos</a></div>

                <div class="table-responsive mt-3">
                    <table class="table table-bordered border-black table-hover" th:if="${verifica}">
                        <thead class="table-dark border-secondary">
                            <tr class="text-center">
                                <th>Produto</th>
                                <th>Quantidade</th>
                                <th>Ação</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="p : ${itens}" class="text-center">
                                <td th:text="${p.produto.nome}">Produto</td>
                                <td th:text="${p.quantidade}">Quantidade</td>
                                <td><button class="btn btn-warning btn-sm">Editar</button> <button class="btn btn-secondary btn-sm">Excluir</button></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="card text-center p-2 rounded-4" th:unless="${verifica}">
                        <h2>Nenhum produto foi adicionado!</h2>
                    </div>
                </div>

                <div class="col-md-6 mt-4">
                    <div class="row">
                        <div class="col-md-6">
                            <a href="/acao/inventory" class="btn btn-danger">Cancelar</a>
                            <button th:disabled="${verifica != true}" type="submit" class="btn btn-success">Salvar</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

</body>
</html>